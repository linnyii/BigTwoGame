# 大老二 (Big Two) - C# Console 版本

一個基於 .NET 8.0 的控制台大老二遊戲實作，使用物件導向設計原則開發。

## 📋 專案結構

```
BigTwo/
├── Models/                 # 基礎模型
│   ├── Suit.cs            # 花色枚舉 (♣♦♥♠)
│   ├── Rank.cs            # 點數枚舉 (3-2)
│   ├── Card.cs            # 撲克牌類別
│   ├── Deck.cs            # 牌組類別
│   ├── Hand.cs            # 手牌類別
│   └── Player.cs          # 玩家類別
├── CardPatterns/           # 牌型系統 (責任鏈模式)
│   ├── CardPatternType.cs        # 牌型類型
│   ├── CardPatternValue.cs       # 牌型值
│   ├── CardPatternHandler.cs     # 處理器基類
│   ├── SingleHandler.cs          # 單張處理器
│   ├── PairHandler.cs            # 對子處理器
│   ├── StraightHandler.cs        # 順子處理器
│   ├── FullHouseHandler.cs       # 葫蘆處理器
│   ├── PassHandler.cs            # Pass處理器
│   └── InvalidHandler.cs         # 無效牌型處理器
├── GameLogic/              # 遊戲邏輯
│   ├── GameState.cs       # 遊戲狀態管理
│   └── BigTwoGame.cs      # 遊戲主控制器
├── UI/                     # 使用者介面
│   ├── ConsoleUI.cs       # 顯示介面
│   └── InputHandler.cs    # 輸入處理
└── Program.cs              # 程式入口
```

## 🎮 遊戲規則

### 基本規則
- **玩家數量**: 4人
- **牌數分配**: 每人13張
- **勝利條件**: 最先出完所有手牌的玩家獲勝

### 牌的大小
- **點數順序**: 2 > A > K > Q > J > 10 > 9 > 8 > 7 > 6 > 5 > 4 > 3
- **花色順序**: ♠ (黑桃) > ♥ (紅心) > ♦ (方塊) > ♣ (梅花)

### 支援的牌型
1. **單張** (Single): 1張牌
2. **對子** (Pair): 2張相同點數的牌
3. **順子** (Straight): 5張連續點數的牌
4. **葫蘆** (Full House): 3張相同點數 + 2張相同點數

### 特殊規則
1. **開局**: 持有梅花3 (♣3) 的玩家先出，第一手必須包含梅花3
2. **跟牌**: 必須出相同牌型且更大的牌
3. **Pass**: 玩家可以選擇不出牌
4. **重新開始**: 當其他三家都Pass後，桌面清空，最後出牌者可以出任意牌型

## 🚀 如何執行

### 前置需求
- .NET 8.0 SDK 或更高版本

### 編譯專案
```bash
cd BigTwo
dotnet build
```

### 執行遊戲
```bash
dotnet run
```

或直接執行編譯後的檔案:
```bash
cd bin/Debug/net8.0
./BigTwo.exe
```

## 🕹️ 遊戲操作

### 開始遊戲
遊戲啟動時會先詢問玩家名字：
```
歡迎來到大老二遊戲！

請輸入玩家名字（直接按 Enter 使用預設名字）

玩家 1 的名字: 小明
  → 名字已設定: 小明
玩家 2 的名字: 
  → 使用預設名字: 玩家 2
玩家 3 的名字: 阿華
  → 名字已設定: 阿華
玩家 4 的名字: 
  → 使用預設名字: 玩家 4
```

### 出牌方式
1. **選擇牌**: 輸入牌的編號，用空格分隔
   - 例如: `1 2 3` (出第1、2、3張牌)
   
2. **Pass**: 輸入 `pass` 或 `p`

3. **退出遊戲**: 輸入 `quit` 或 `exit`

### 遊戲畫面說明
```
====================================
         大老二 (Big Two)          
====================================

所有玩家:
→ 玩家 1 (13 張牌)
  玩家 2 (13 張牌)
  玩家 3 (13 張牌)
  玩家 4 (13 張牌)

====================================
桌面狀態:
  目前桌面是空的
====================================

玩家 1 的手牌 (13 張):
[1] ♣3  [2] ♣4  [3] ♦5  [4] ♥7  [5] ♠8  [6] ♦9  [7] ♥10  
[8] ♣J  [9] ♦Q  [10] ♥K  [11] ♠A  [12] ♦2  [13] ♠2  

請選擇要出的牌:
  輸入牌的編號 (例如: 1 2 3)
  輸入 'pass' 跳過
  輸入 'quit' 退出遊戲

你的選擇: 
```

## 🏗️ 設計模式

### 1. 責任鏈模式 (Chain of Responsibility)
- `CardPatternHandler` 系列類別
- 依序檢查牌型是否符合各種規則

### 2. 策略模式 (Strategy)
- 不同的 Handler 處理不同的牌型驗證策略

### 3. 狀態模式 (State)
- `GameState` 管理遊戲狀態轉換

## 📊 類別關係

本專案嚴格遵循 UML 類別圖和序列圖的設計：
- `Big2_OOA_OOD_ClassDiagram-1.png` - 類別圖
- `Big2_SequenceDiagram.svg` - 序列圖

## 🔧 技術特點

1. **完整的型別系統**: 使用 C# 的強型別特性
2. **LINQ 查詢**: 優雅的資料處理
3. **介面與抽象**: 良好的擴展性
4. **異常處理**: 穩定的錯誤處理
5. **清晰的架構**: 分層設計，職責分明

## 📝 未來擴展

可以考慮加入以下功能：
- [ ] 更多牌型（同花順、鐵支等）
- [ ] AI 玩家
- [ ] 網路多人對戰
- [ ] GUI 介面
- [ ] 遊戲記錄與回放
- [ ] 排行榜系統

## 👥 開發資訊

- **開發日期**: 2025/10/11
- **.NET 版本**: 8.0
- **程式語言**: C#
- **設計原則**: OOA/OOD

## 📄 授權

此專案僅供學習和研究使用。

---

**祝您遊戲愉快！** 🎉

